<!DOCTYPE html>
<html lang='{{language}}'>
  <head>
    <meta charset='UTF-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0'>
    <title>{{title}}</title>
    <!-- css library import -->
    <link
      rel='stylesheet'
      href='https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css'
    />
    <link
      rel='stylesheet'
      href='https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/css/splide.min.css'
    />
    <link rel='preconnect' href='https://fonts.googleapis.com'>
    <link rel='preconnect' href='https://fonts.gstatic.com' crossorigin>
    <link
      href='https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&display=swap'
      rel='stylesheet'
    />
    {{>Style}}
  </head>
  <body>
    <div  class='custom-landing-page bizops-landing-page' id='bizops-landing-page'>
      {{>NeumiBizopHeroSection}}
      {{>NeumiVideo}}
      {{>NeumiTab}}
      {{>NeumiBizopProductList}}
      {{>NeumiBizopTrip}}
      {{>NeumiBizopEnrollment}}
      {{>NeumiBeforeAndAfter}}
      {{>NeumiFaqAccordion}}
      {{>NeumiBizopCTA}}
      {{>NeumiBizopFooterNote}}
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/js/splide.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/studio-freight/lenis@latest/bundled/lenis.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
    <script>
      $(document).ready(function () {
        // video popup
        $("[data-fancybox]").fancybox({
          youtube: {
            controls: 0,
            modestbranding: 1, // Use modestbranding instead of showinfo
          },
        });
        $(".reviews-pagination a").on("click", function (e) {
          e.preventDefault();
        });
      });
      document.addEventListener("DOMContentLoaded", function () {
        // Product Slider
        const enrollPreviewSlider = new Splide("#enroll-preview-slider ", {
          pagination: false,
        });
        const enrollThumbnailsSlider = new Splide("#enroll-pack-nav-slider", {
          start: 0,
          perPage: 1,
          pagination: false,
          isNavigation: true,
        });

        enrollPreviewSlider.sync(enrollThumbnailsSlider);
        enrollPreviewSlider.mount();
        enrollThumbnailsSlider.mount();

        //Tab

        const tabLists = document.querySelectorAll(".tab-menu");

        function showTab(tabList, index) {
          const tabsInList = tabList.querySelectorAll(".tab-menu li");
          const panelsInList =
            tabList.parentElement.nextElementSibling.querySelectorAll(
              ".tab-content-item"
            );

          tabsInList.forEach((tab) => tab.classList.remove("active"));
          panelsInList.forEach((panel) => panel.classList.remove("active"));

          tabsInList[index].classList.add("active");
          panelsInList[index].classList.add("active");
        }

        tabLists.forEach((tabList) => {
          const tabs = tabList.querySelectorAll(".tab-menu li");

          tabs.forEach((tab, index) => {
            tab.addEventListener("click", () => showTab(tabList, index));
          });

          // Show the first tab in each list by default
          showTab(tabList, 0);
        });

        //video slider
        var tabSlider = new Splide("#tab-slider", {
          arrows: false,
          pagination: false,
          type: "loop",
          perPage: 1,
          arrows: true,
          cover: false,
          gap: "2rem",
          mediaQuery: "min",
          breakpoints: {
            1280: {
              perPage: 5,
            },
            1024: {
              perPage: 4,
            },
            800: {
              perPage: 3,
            },
            768: {
              perPage: 2,
            },
            576: {
              perPage: 2,
            },
          },
        });

        tabSlider.mount();
        // key ingredients slider
        if ($("div").hasClass("key-ingredients-slider")) {
          var keyIngredientsSlider = new Splide("#key-ingredients-slider", {
            arrows: false,
            pagination: false,
            type: "loop",
            perPage: 1,
            arrows: true,
            cover: false,
            gap: "2rem",
            mediaQuery: "min",
            breakpoints: {
              1280: {
                perPage: 4,
              },
              1024: {
                perPage: 3,
              },
              768: {
                perPage: 2,
              },
              576: {
                perPage: 2,
              },
            },
          });

          keyIngredientsSlider.mount();
        }

        //Accordion
        const accItem = document.querySelectorAll(".acc-item");
        accItem.forEach((item, index) => {
          let accHeader = item.querySelector(".acc-item_header");
          accHeader.addEventListener("click", () => {
            let accBody = item.querySelector(".acc-item_body");
            if (!item.classList.contains("acc-item_active")) {
              item.classList.add("acc-item_active");
              accBody.style.maxHeight = accBody.scrollHeight + 32 + "px";
              accItem.forEach((element, ind) => {
                let elementBody = element.querySelector(".acc-item_body");
                if (!(ind === index)) {
                  element.classList.remove("acc-item_active");
                  elementBody.style.maxHeight = null;
                }
              });
            } else {
              item.classList.remove("acc-item_active");
              accBody.style.maxHeight = null;
            }
          });
        });

        //show more
        const itemsPerPage = 10;
        let currentPage = 1;
        const showMoreBtn = document.querySelector(".showmore");
        function showMore() {
          const dataContainer = document.getElementById("acc");
          const listItems = dataContainer.querySelectorAll(".acc-item");
          const start = (currentPage - 1) * itemsPerPage;
          const end = currentPage * itemsPerPage;

          for (let i = 0; i < listItems.length; i++) {
            if (i >= start && i < end) {
              listItems[i].style.display = "block";
            }
          }

          currentPage++;

          if (end >= listItems.length) {
            showMoreBtn.style.display = "none";
          }
        }

        // key gradient animations
        const featItems = gsap.utils.toArray(".product-feature-item");
        featItems.forEach((items) => {
          gsap.fromTo(
            items,
            { opacity: 0, y: 50 },
            {
              duration: 1.5,
              opacity: 1,
              y: 0,
              scrollTrigger: {
                trigger: ".key-ingredients",
                start: "-30% top",
                end: "bottom center",
                scrub: 1,
              },
            }
          );
        });

        // Select all overlay elements within .page-section
        const overlays = gsap.utils.toArray(".overlay-animation .overlay-left");

        // Loop through each overlay element
        overlays.forEach((overlay) => {
          ScrollTrigger.create({
            trigger: overlay.closest(".overlay-animation"),
            start: "-100% top",
            end: "bottom 20%",
            onToggle: (self) => {
              if (self.isActive) {
                gsap.to(overlay, { duration: 1, x: "-100%" });
              } else {
                gsap.to(overlay, { duration: 1, x: 0 });
              }
            },
          });
        });

        const overlaysRight = gsap.utils.toArray(".overlay-animation .overlay-right");

        // Loop through each overlay element
        overlaysRight.forEach((overlay) => {
          ScrollTrigger.create({
            trigger: overlay.closest(".overlay-animation"),
            start: "-100% top",
            end: "bottom 20%",
            onToggle: (self) => {
              if (self.isActive) {
                gsap.to(overlay, { duration: 1, x: "100%" });
              } else {
                gsap.to(overlay, { duration: 1, x: 0 });
              }
            },
          });
        });

        const keyItems = gsap.utils.toArray(".ingredients .item");
        keyItems.forEach((items) => {
          gsap.fromTo(
            items,
            { opacity: 0, y: 50, stagger: 0.2 },
            {
              duration: 1.5,
              opacity: 1,
              y: 0,
              stagger: 0.2,
              scrollTrigger: {
                trigger: ".ingredients",
                start: "-80% top",
                end: "bottom 20%",
              },
            }
          );
        });

        const faqs = gsap.utils.toArray(".acc-item");

        gsap.fromTo(
          faqs,
          { opacity: 0, y: 50, stagger: 0.3 },
          {
            duration: 1.5,
            opacity: 1,
            stagger: 0.3,
            y: 0,

            scrollTrigger: {
              trigger: ".acc",
              start: "-100% top",
              end: "bottom center",
            },
          }
        );
        const buttons = document.querySelectorAll("button[data-target]");

        // Add click event listener to each button
        buttons.forEach((button) => {
          button.addEventListener("click", () => {
            const targetId = button.getAttribute("data-target");
            const targetElement = document.getElementById(targetId);
            if (targetElement) {
              targetElement.scrollIntoView({
                behavior: "smooth",
                block: "start",
              });
            }
          });
        });
      });
      // before after slider
      var beforeAfterSlider = new Splide("#before-after-preview-slider", {
        arrows: true,
        pagination: false,
        perPage: 1,
        mediaQuery: "min",
        breakpoints: {
          1024: {
            perPage: 3,

          },
          576: {
            perPage: 2,
            gap: "12px",
          },
        },
      });

      beforeAfterSlider.mount();
      $(".medical-advisosry-list-toggle-btn").on("click", function (e) {
        e.preventDefault();
        $('.medical-advisory-content').slideToggle();
        $(".see-all-caption,.hide-all-caption").toggleClass("neumi-d-none");
      })
      </script>
      {{>ScriptEnrollment}}
  </body>
</html>