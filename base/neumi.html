<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{title}}</title>
    <!-- css library import -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css"
    />
    <link
      rel="stylesheet"
      href="https://fastly.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/css/splide.min.css"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../../../base/css/style.css" />
  </head>
  <body>
    <div  class='custom-landing-page neumi-home-page no-spacing'>
      <!-- HERO SECTION -->
      {{>neumiLandingBanner}}
      <!--As seen section-->
      {{>AsSeenOn}}
      <!-- Masonary Product List -->
      {{>neumiLandingMasonaryProductList}}
      {{>neumiLandingBeforeAndAfter}}
      <!-- PRODUCT LIST -->
      {{>neumiLandingProductList}}

      {{>neumlandingVideoLayout}}


      {{>FaqAccordionLayout}}

      {{>neumiLandingCta}}

      <div class="page-note-section pt-32 pb-32">
        <div class="container">
          <div class="caption">
            <span>{{note_desc}}</span>
          </div>
        </div>
      </div>

    </div><!-- .neumi-landing-page -->

    <!-- Js library import -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://fastly.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/js/splide.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js"></script>
    <script src="https://fastly.jsdelivr.net/gh/studio-freight/lenis@latest/bundled/lenis.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
    <script>
      $(document).ready(function () {
      // video popup
        $("[data-fancybox]").fancybox({
          youtube: {
            controls: 0,
            modestbranding: 1, // Use modestbranding instead of showinfo
          },
        });
        $(".reviews-pagination a").on("click", function (e) {
          e.preventDefault();
        });
      });

      document.addEventListener("DOMContentLoaded", function () {
        //as seen slider
        var asSeen = new Splide("#as-seen_slider", {
          autoWidth: true,
          arrows: false,
          pagination: false,
          type: "loop",
          perPage: 1,
          autoplay: true,
          interval: 2000,
          cover: false,
          gap: "4rem",
          breakpoints: {
            1024: {
              perPage: 7,
              gap: "3rem",
            },
            576: {
              perPage: 4,
            },
          },
        });

        asSeen.mount();


        //Accordion
        const accItem = document.querySelectorAll(".acc-item");
        accItem.forEach((item, index) => {
          let accHeader = item.querySelector(".acc-item_header");
          accHeader.addEventListener("click", () => {
            let accBody = item.querySelector(".acc-item_body");
            if (!item.classList.contains("acc-item_active")) {
              item.classList.add("acc-item_active");
              accBody.style.maxHeight = accBody.scrollHeight + 32 + "px";
              accItem.forEach((element, ind) => {
                let elementBody = element.querySelector(".acc-item_body");
                if (!(ind === index)) {
                  element.classList.remove("acc-item_active");
                  elementBody.style.maxHeight = null;
                }
              });
            } else {
              item.classList.remove("acc-item_active");
              accBody.style.maxHeight = null;
            }
          });
        });


        // GSAP ScrollTrigger setup
        gsap.registerPlugin(ScrollTrigger);

        // Select all overlay elements within .page-section
        const overlays = gsap.utils.toArray(".overlay-animation .overlay-left");

        // Loop through each overlay element
        overlays.forEach((overlay) => {
          ScrollTrigger.create({
            trigger: overlay.closest(".overlay-animation"),
            start: "-100% top",
            end: "bottom 20%",
            onToggle: (self) => {
              if (self.isActive) {
                gsap.to(overlay, { duration: 1, x: "-100%" });
              } else {
                gsap.to(overlay, { duration: 1, x: 0 });
              }
            },
          });
        });

        const overlaysRight = gsap.utils.toArray(".overlay-animation .overlay-right");

        // Loop through each overlay element
        overlaysRight.forEach((overlay) => {
          ScrollTrigger.create({
            trigger: overlay.closest(".overlay-animation"),
            start: "-100% top",
            end: "bottom 20%",
            onToggle: (self) => {
              if (self.isActive) {
                gsap.to(overlay, { duration: 1, x: "100%" });
              } else {
                gsap.to(overlay, { duration: 1, x: 0 });
              }
            },
          });
        });

        // before after slider
        var beforeAfterSlider = new Splide("#before-after-preview-slider", {
          arrows: true,
          pagination: false,
          perPage: 1,
          mediaQuery: "min",
          breakpoints: {
            1024: {
              perPage: 3,

            },
            576: {
              perPage: 2,
              gap: "12px",
            },
          },
        });

        beforeAfterSlider.mount();


        const faqs = gsap.utils.toArray(".acc-item");

        gsap.fromTo(
          faqs,
          { opacity: 0, y: 50, stagger: 0.3 },
          {
            duration: 1.5,
            opacity: 1,
            stagger: 0.3,
            y: 0,

            scrollTrigger: {
              trigger: ".acc",
              start: "-100% top",
              end: "bottom center",
            },
          }
        );

        const wrappers = document.querySelectorAll(
          ".key-ingredients , .innovation, .easy-app, .lasting-benefit"
        );
        const className = "is-active";

        const observer = new IntersectionObserver((entries) => {
          for (const entry of entries) {
            if (entry.isIntersecting) {
              entry.target.classList.add(className);
            } else {
              entry.target.classList.remove(className);
            }
          }
        });

        wrappers.forEach((wrapper) => {
          observer.observe(wrapper);
        });

      });
      $(".medical-advisosry-list-toggle-btn").on("click",function(e){
        e.preventDefault();
        $('.medical-advisory-content').slideToggle();
        $(".see-all-caption,.hide-all-caption").toggleClass("neumi-d-none");
      })

    </script>
  </body>
</html>
